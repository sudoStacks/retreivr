version: "3.9"

services:
  retreivr:
    # Docker Hub:
    image: retreivr/retreivr:0.9.5
    # Or GHCR:
    # image: ghcr.io/sudoStacks/retreivr:0.9.5

    container_name: retreivr
    ports:
      # host:container -> access via http://<host>:8090, app listens on 8000 in-container
      - "8090:8000"

    environment:
      - RETREIVR_HOST=0.0.0.0

    volumes:
      # IMPORTANT: Use absolute host paths in Portainer.
      - /srv/retreivr/downloads:/downloads
      - /srv/retreivr/data:/data
      - /srv/retreivr/config:/config
      - /srv/retreivr/logs:/logs
      - /srv/retreivr/tokens:/tokens

    restart: unless-stopped
