version: "3.9"

services:
  retreivr:
    image: ghcr.io/sudoStacks/retreivr:0.9.5
    container_name: retreivr
    ports:
      # host:container -> access via http://<host>:8090, app listens on 8000 in-container
      - "8090:8000"
    environment:
      - TZ=America/Chicago 
      # Change to your local TZ

    volumes:
      # Canonical container layout:
      # /downloads /data /config /logs /tokens
      - ./downloads:/downloads
      - ./data:/data
      - ./config:/config
      - ./logs:/logs
      - ./tokens:/tokens

    restart: unless-stopped

# Notes:
# - Playlist folder paths in config.json are relative to /downloads inside the container.
# - No RETREIVR_*_DIR overrides are required for Docker when using the canonical layout above.
# - Default video container is MKV as of v0.9.3 (configurable in config.json).
